<!DOCTYPE HTML>
<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <title>设计模式六大原则 - Dreamcatcher</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
  
  <meta name="description" content="遵循设计原则是为了建立稳定、灵活、健壮的设计,而开闭原则又是重中之重,是最基础的原则,是其他五大原则的精神领袖">
  
  <meta itemprop="name" content="设计模式六大原则 - Dreamcatcher">
  <meta itemprop="description" content="遵循设计原则是为了建立稳定、灵活、健壮的设计,而开闭原则又是重中之重,是最基础的原则,是其他五大原则的精神领袖">
  
  <meta itemprop="image" content="https://lpgph.github.io/img/author.jpg">

  
  
  <meta name="twitter:description" content="曾梦想仗剑走天涯">
  
  
  <link rel="shortcut icon" href="https://lpgph.github.io/img/favicon.ico"/>
  <link rel="apple-touch-icon" href="https://lpgph.github.io/img/apple-touch-icon.png" />
  <link rel="apple-touch-icon-precomposed" href="https://lpgph.github.io/img/apple-touch-icon.png" />

  
  
  <link rel="stylesheet" href="https://lpgph.github.io/font/hack/css/hack.min.css">
  <link rel="stylesheet" href="https://lpgph.github.io/font/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://lpgph.github.io/font/playball/playball.css">

  <link rel="stylesheet" href="https://lpgph.github.io/css/style.css">	
  <script type="text/javascript"> 
    var $BaseURL = "https://lpgph.github.io/";
  </script>
  
  
  <script type="text/javascript"> 
    var $live2d_widget_model = "/plugin/live2d-widget/model/kesyoban/kesyoban.model.json";
  </script>
  <script src="https://lpgph.github.io/plugin/live2d-widget/js/L2Dwidget.min.js"></script>
   

  <script src="https://lpgph.github.io/js/spring-loaders.js"></script>
  
  
  <link rel="stylesheet" href="https://lpgph.github.io/plugin/highlight/styles/github.css">
  <script src="https://lpgph.github.io/plugin/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script src="https://lpgph.github.io/js/jquery-3.3.1.min.js"></script>
  
  
  <script type="text/javascript" src="https://lpgph.github.io/js/click_show_text.js"></script>
  
  
  <script src="https://lpgph.github.io/js/motto-show.js"></script>

</head>
<body>
    <div id="home" class="app-home">
        <aside>
             
  <button class="navbutton"  id="openaside" title="显示侧边栏">
    <i class="fa fa-navicon"></i>  
    <span id="nav-btn-title" style="padding-left: 10px;">MENU</span>
  </button>
  <div id="asidepart" class="asidepart">
    <button class="close-button"  id="closeaside" title="隐藏侧边栏">
      <i class="fa fa-close"></i>
    </button>
    <div class="aside-info">
      <div class="blog-info">
  
  <div class="blog-avatar">
    <a href="https://lpgph.github.io/">
      <img src="https://lpgph.github.io/img/avatar.jpg" alt="lpgph" title="lpgph"/>
    </a>
  </div>
  
  <div class="blog-author-info">
    <h1 class="blog-author"><a href="https://lpgph.github.io/" title="lpgph">lpgph</a></h1>
    <h2 class="blog-motto" id="blog-motto"></h2>

    <script>
     
      binft(document.getElementById('blog-motto'),["青青陵上柏，磊磊涧中石","人生天地间，忽如远行客","斗酒相娱乐，聊厚不为薄","驱车策驽马，游戏宛与洛","洛中何郁郁，冠带自相索","长衢罗夹巷，王侯多第宅","两宫遥相望，双阙百余尺","极宴娱心意，戚戚何所迫？"]);
    
    </script>
  </div>
  <nav class="animated">
    <ul>
      
      <li><a href="/">主页</a></li>
      
      <li><a href="/post/">归档</a></li>
      
      <li><a href="/categories/">分类</a></li>
      
      <li><a href="/tags/">标签云</a></li>
      
      <li><a href="/categories/learn/">笔记</a></li>
      
      <li><a href="/categories/notes/">记录</a></li>
      
      <li><a href="/categories/booklist/">书单</a></li>
      
      <li><a href="/about/">关于我</a></li>
      
    </ul>
    <h1 class="asidetitle">搜索</h1>
    <form class="search" method="get" action="https://www.google.com/search">
        <input type="text" id="search" name="q" placeholder="搜索">
    </form>
  </nav>
</div>
      

<div class="categorieslist">
  <h1 class="asidetitle">分类</h1>
  <ul class="side-info-list">
    
    <li><a href="https://lpgph.github.io/categories/java" title="java">java<sup>(1)</sup></a></li>
    
    <li><a href="https://lpgph.github.io/categories/mysql" title="mysql">mysql<sup>(7)</sup></a></li>
    
    <li><a href="https://lpgph.github.io/categories/%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f" title="设计模式">设计模式<sup>(1)</sup></a></li>
    
  </ul>
</div>



      

	
	<div class="tagslist">
		<h1 class="asidetitle">标签</h1>
		<ul class="side-info-list">
			
			<li><a href="https://lpgph.github.io/tags/java" title="java">java<sup>(2)</sup></a></li>
			
			<li><a href="https://lpgph.github.io/tags/mysql" title="mysql">mysql<sup>(7)</sup></a></li>
			
			<li><a href="https://lpgph.github.io/tags/quartz" title="quartz">quartz<sup>(1)</sup></a></li>
			
			<li><a href="https://lpgph.github.io/tags/spring" title="spring">spring<sup>(1)</sup></a></li>
			
			<li><a href="https://lpgph.github.io/tags/%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f" title="设计模式">设计模式<sup>(1)</sup></a></li>
			
		</ul>
	</div>
	

      

  <div class="social-list">
  	<h1 class="asidetitle">社交</h1>
    <div class="social-info">
      
      
      
        <a href="https://github.com/lpgph" target="_blank" title="github"></a>
      
      
      
    </div>
  </div>
  

    </div>
  </div>
  <div id="sideBar" class="app-menu"></div>
        </aside>

        <header>
         
    <header class="app-header article-header" id="app-header">
      
<div class="vertical">
  <div class="inner">
      <h1 itemprop="name" class="article-title">
        <a href="https://lpgph.github.io/post/design_pattern_principle/" title="设计模式六大原则" itemprop="url">设计模式六大原则</a>
      </h1>
      <h2 class="article-info">
        <p class="article-info-text">
          Posted by
          
            <a href="http://localhost:1313/" title="lpgph">lpgph</a>
          
          on <time datetime="2018-05-01 09:48:13 &#43;0000 UTC" itemprop="datePublished">2018-05-01</time>
        </p>
        <p class="article-tags">
          
          
            
            <span class="article-tag  article-category-color">
              <i class="fa fa-th-large" aria-hidden="true"></i>
              <a href="https://lpgph.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">设计模式</a>
            </span>
            
          
          

          
          
            
            <span class="article-tag  article-tag-color">
              <i class="fa fa-tag" aria-hidden="true"></i>
              <a href="https://lpgph.github.io/tags/java">Java</a>
            </span>
            
            <span class="article-tag  article-tag-color">
              <i class="fa fa-tag" aria-hidden="true"></i>
              <a href="https://lpgph.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">设计模式</a>
            </span>
            
          
          
        </p>
      </h2>
  </div>
</div>
    </header>

        </header>
        
        <main id="main-content" class="app container">
            
      
  <div id="main" class="post"> 

    
  <div  class="article-content box-style box-first">
    <article>
      <p>遵循设计原则是为了建立稳定、灵活、健壮的设计,而开闭原则又是重中之重,是最基础的原则,是其他五大原则的精神领袖</p>
<h2 id="single-responsibility-principle-srp">单一职责(Single Responsibility Principle, SRP)</h2>
<h3 id="what">What</h3>
<p>应该有且仅有一个原因引起类的变更,即一个接口或类只有一个原因引起变化,一个接口或类只有一个职责,它就负责一件事情</p>
<h3 id="why">Why</h3>
<ul>
<li>类的复杂性降低,实现什么职责都有明确的定义</li>
<li>可读性提高</li>
<li>可维护性提高</li>
<li>变更引起的风险降低. 变更是必不可少的,如果接口的单一职责做的好,一个接口修改只对相应的实现类有影响,对其他的接口无影响,对系统的拓展性、维护性都有非常大的帮助</li>
</ul>
<h3 id="how">How</h3>
<p>接口一定要做到单一职责,类的设计尽量做到只有一个原因引起变化</p>
<h3 id="heading">注意</h3>
<p>单一职责原则提出一个编写程序的标准,用“职责”或“变化原因”来衡量接口或类设计得是否优良, 但是“职责”或“变化原因”都是不可度量的,所以因项目而异,因环境而异.适用于接口、类,同时也适用于方法,接口一定要做到单一职责,类的设计尽量做到只有一个原因引起变化,一个方法尽可能做一件事情.</p>
<h2 id="liskov-substitution-principle-lsp">里氏代换原则（Liskov Substitution Principle, LSP）</h2>
<h3 id="what1">What</h3>
<ul>
<li>第一种定义,也是最正宗的定义: 如果对每一个类型为S的对象o1,都有类型为T的对象o2,使得以T定义的所有程序P在所有的对象o1都代换成o2时,程序P的行为没有发生变化,那么类型S就是类型T的子类型.</li>
<li>第二种定义:所有引用基类的地方必须能透明地使用其子类的对象</li>
</ul>
<p>通俗的说,只要父类能出现的地方子类就可以出现,而且替换为子类也不会产生任何错误或异常,使用者可能根本不需要知道是父类还是子类,但是,有子类的出现的地方,父类未必能适应.</p>
<h3 id="why1">Why</h3>
<p>减少继承的弊端,发挥继承的最大优势</p>
<h3 id="how1">How</h3>
<ul>
<li>子类必须完全实现父类的方法</li>
<li>子类可以有自己的个性</li>
<li>覆盖或实现父类的方法时,输入参数可以放大子类中实现的方法的前置条件必须与超类中被覆写的方法的前置条件相同或更宽松</li>
<li>覆写或实现父类的方法时输出的结果可以被缩小</li>
</ul>
<h3 id="other">Other</h3>
<p>采用里氏替换原则时,尽量避免子类的&quot;个性&rdquo;,一旦子类有&quot;个性&rdquo;,这个子类和父类之间的关系就很难调和.
把子类当做父类使用,子类的&quot;个性&quot;被抹杀,把子类单独作为一个业务来使用,则会让代码间的耦合关系变得扑朔迷离,缺乏类替换的标准.
在类中调用其他类时务必使用父类或接口,如果不能使用父类或接口,则说明类的设计已经违背了LSP原则;
如果子类不能完整地实现父类的方法,或者父类的某些方法在子类中已经发生&quot;畸变&rdquo;,则建议断开父子继承关系,采用依赖,聚集,组合等关系代替继承.</p>
<p><a href="">关于继承</a></p>
<h2 id="dependence-inversion-principle-dip">依赖倒转原则（Dependence Inversion Principle, DIP）</h2>
<h3 id="what2">What</h3>
<p>广义上</p>
<ul>
<li>高层模块不应该依赖底层模块,两者都应该依赖其抽象</li>
<li>抽象不应该依赖细节</li>
<li>细节应该依赖抽象</li>
</ul>
<p>在Java中</p>
<ul>
<li>模块间的依赖通过抽象发生,实现类之间不发生直接的依赖关系,其依赖关系时用过接口或抽象类产生的.</li>
<li>接口或抽象类不依赖于实现类</li>
<li>实现类依赖接口或抽象类</li>
</ul>
<p>其核心就是面向接口编程&mdash;OOD(面向对象设计)的精髓之一</p>
<blockquote>
<p>倒置含义
正置就是类间的依赖时实实在在的实现类间的依赖,也就是面向实现编程,这也是人们传统思维中的事物之间的依赖. 对现实世界的事物进行抽象,抽象的结果就是有了抽象类和接口,然后根据系统设计的需要产生了抽象间的依赖,代替了人们传统思维中的事物之间的依赖,&ldquo;倒置&quot;就是从这里产生的</p>
</blockquote>
<h3 id="why2">Why</h3>
<ul>
<li>减少类间的耦合性</li>
<li>提高系统的稳定性</li>
<li>降低并行开发引起的风险</li>
<li>提高代码的可读性和可维护性</li>
<li>是实现开闭原则的重要途径,依赖倒置原则没有实现,就别想实现对扩展的开放,对修改的关闭.</li>
</ul>
<h3 id="how2">How</h3>
<ul>
<li>构造函数传递依赖对象</li>
<li>setter方法传递依赖对象</li>
<li>接口声明依赖对象(接口注入)</li>
</ul>
<h3 id="heading1">规则</h3>
<ul>
<li>每个类尽量都有接口或抽象类,或者接口抽象类两者都具备</li>
<li>变量的表面类型尽量时接口或者抽象类</li>
<li>任何类都不应该从具体类派生</li>
<li>尽量不要覆写基类的方法</li>
<li>结合里氏替换原则使用</li>
</ul>
<h2 id="interface-segregation-principle">接口隔离原则（Interface Segregation Principle）</h2>
<h3 id="what3">What</h3>
<ul>
<li>实例接口, Java中声明一个类,然后用new关键字产生一个实例,它是对一个类型事物的描述,这是一个接口.</li>
<li>类接口, Java中interface关键字定义的接口</li>
</ul>
<h3 id="why3">Why</h3>
<ul>
<li>客户端不应该依赖它不需要的接口</li>
<li>类之间的依赖关系应该建立在最小的接口上</li>
<li>隔离总结 建立单一接口,不要建立臃肿庞大的接口,通俗讲,接口尽量细化,同时接口中的方法尽量少</li>
</ul>
<h3 id="how3">How</h3>
<ul>
<li>接口尽量小, 根据接口隔离原则拆分接口时,首先必须满足单一职责原则</li>
<li>接口要高内聚</li>
<li>定制服务, 只提供访问者需要的方法</li>
<li>接口设计有限度的, 接口设计注意适度</li>
</ul>
<h3 id="heading2">和单一原则区别</h3>
<p>审视角度不相同,单一职责要求的时类和接口职责单一,注重的是职责,这是业务逻辑上的划分,而接口隔离原则要求接口的方法尽量少</p>
<h3 id="other1">Other</h3>
<p>接口隔离原则是对接口的定义,同时也是对类的定义,接口和类尽量使用原子接口或原子类来组装,如何划分原子?</p>
<ul>
<li>一个接口只服务于一个子模块或业务逻辑</li>
<li>通过业务逻辑压缩接口中的public方法,接口时常去回顾,尽量让接口精简单一,而不是臃肿庞大</li>
<li>已经被污染了的接口,尽量去修改,若变更的风险较大,则采用适配器模式进行转化处理</li>
<li>了解环境,拒绝盲从,每个项目或产品都有特定的环境因素,环境不同,接口拆分的标准就不同,需要深入了解业务逻辑</li>
</ul>
<h2 id="-law-of-demeterleast-knowledge-principle-lod">迪米特法则/最少知道原则 (Law Of Demeter/Least Knowledge Principle, LOD)</h2>
<h3 id="what4">What</h3>
<p>一个对象应该对其他对象有最少的了解. 通俗的说,一个类应该对自己需要耦合或调用的类知道得最少,你(被耦合或调用的类)的内部是如何复杂都和我没有关系,我只需要知道你提供哪些public方法,我就调用这些,其他的一概不关心</p>
<h3 id="why4">Why</h3>
<p>类间解耦,弱耦合 (但是解耦时有限度的),提高类的复用率.但是其要求结果会产生大量的中转或跳转类,倒置系统的复杂性提高,同时也为维护带来了难度,使用迪米特法则时需要反复权衡,既做到让结构清晰,又要做到高内聚低耦合.</p>
<h3 id="how4">How</h3>
<ul>
<li>只和朋友交流。一个类只和朋友交流,不与陌生类交流,类与类之间的关系时建立在类间的,而不是方法间,因此一个方法尽量不引入一个类中不存在的对象</li>
<li>朋友也是有距离的。尽量不要对外公布太多的public方法和非静态的public变量,尽量内敛,多使用private、package-private、protected等访问权限</li>
<li>是自己的就是自己的。如果一个方法放在本类中,即不增加类间关系,也不对本类产生负面影响,就放置在本类中</li>
<li>谨慎使用Serializable</li>
</ul>
<h2 id="openclose-principle">开闭原则（Open-Close Principle）</h2>
<h3 id="what5">What</h3>
<p>一个软件实体如类、模块和函数对扩展开发,对修改关闭</p>
<blockquote>
<p>软件实体包括以下几个部分:</p>
</blockquote>
<ul>
<li>项目或软件产品中按照一定的逻辑规则划分的模块</li>
<li>抽象和类</li>
<li>方法</li>
</ul>
<p><!-- raw HTML omitted -->注意
开闭原则对扩展开放,对修改关闭,并不意味着不做任何修改,底层模块的变更,必然要有高层模块进行耦合,否则就是一个孤立无意义的代码片段
<!-- raw HTML omitted --></p>
<blockquote>
<p>变化归纳</p>
<ul>
<li>逻辑变化.  只变化一个逻辑,而不涉及其他模块,可以通过修改原有类中的方法的方式来完成,前提条件是所有依赖或关联类都按照相同的逻辑处理.</li>
</ul>
</blockquote>
<ul>
<li>子模块变化. 一个模块变化,会对其他模块产生影响,特别是一个低层次的模块变化必然引起高层模块的变化.</li>
<li>可见视图变化. 提供给客户使用的界面,该部分的变化一般会引起连锁反应</li>
</ul>
<h3 id="why5">Why</h3>
<ul>
<li>有利于测试,只需要保证提供的方法的正确性(孤立测试)</li>
<li>可以提高复用性</li>
<li>可以提高维护性</li>
<li>面向对象开发的需求</li>
</ul>
<p>建立稳定灵活、健壮的设计,而开闭原则是重中之重,是最基础的原则,是其他5大原则的精神领袖</p>
<h3 id="how5">How</h3>
<ul>
<li>抽象约束, 通过接口或抽象类可以约束一组可能变化的行为,并且能实现对扩展开放.</li>
</ul>
<blockquote>
<p>通过接口或抽象类约束扩展,多扩展进行边界限定,不允许出现在接口或抽象类中不存在的public方法
参数类型、引用对象尽量使用接口或抽象类,而不是实现类.
抽象层尽量保持稳定,一旦确定即不允许修改</p>
</blockquote>
<ul>
<li>尽量使用元数据控制模块行为</li>
</ul>
<blockquote>
<p>元数据是指用来描述环境和数据的数据,通俗地说就是配置参数,参数可以从文件中获得,也可以从数据库中获得. 如达到极致的就是控制反转,使用做多的就是Spring容器</p>
</blockquote>
<ul>
<li>定制项目章程, 因为章程中指定了所有人员都必须遵守的约定,对于项目来说,约定优于配置.</li>
<li>封装变化</li>
</ul>
<blockquote>
<p>将相同的变化封装到一个接口或抽象类中
将不同的变化封装到不同的接口或抽象类中,不应该有两个不同的变化出现在同一个接口或抽象类中.</p>
</blockquote>
<h3 id="heading3">注意</h3>
<ul>
<li>开闭原则也只是一个原则</li>
</ul>
<blockquote>
<p>开闭原则只是精神口号,实现拥抱变化的方法非常多,并不局限于这六大设计原则,但是遵循这六大设计原则基本上可以应对大多数变化.项目中应尽量采用这六大原则,适当时候可以进行扩充</p>
</blockquote>
<ul>
<li>项目规章非常重要</li>
</ul>
<blockquote>
<p>优秀的章程能给项目带来非常多的好处,如提高开发效率、降低缺陷率、提高团队士气、提高技术成员水平等等</p>
</blockquote>
<ul>
<li>预知变化。</li>
</ul>
<blockquote>
<p>一旦发现有变化的可能,或者变化曾经发生过,则需要考虑现有的架构是否可以轻松地实现这一变化.设计一套优良的架构不仅要符合现有的需求,还需要适应可能发生的变化.</p>
</blockquote>
<h2 id="heading4">其他原则</h2>
<ul>
<li>面向接口编程</li>
<li>优先使用组合,而非继承</li>
<li>一个类需要的数据应该隐藏在类的内部</li>
<li>类之间应该零耦合,或者只有传导耦合,换句话说,类之间要么没有关系,要么只使用另一个类的接口提供的操作</li>
<li>在水平方向上尽量可能统一地分布系统功能
等等</li>
</ul>
    </article>
    <footer>
      
        上一篇: <a class="previous" href="https://lpgph.github.io/post/java_spring_quartz/"> Quartz与Spring整合</a>
      
      
    </footer>
  </div>
  <div class="comment-container box-style box-other">
    


  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
  <div  id="comment-container">

  </div>
<script>
var gitalk = new Gitalk({
  language: 'zh-CN' ,
  clientID: '86c61da5bfaea99e9f10',
  clientSecret: '3c0524cd32fbe175601f5b964c6a34b6d31b0975',
  repo: 'lpgph.github.io',
  owner: 'lpgph',
  admin: ["lpgph"],
  id: window.location.pathname,      
  distractionFreeMode: false  
})
gitalk.render('comment-container')
</script>


  </div>
 


    <div class="article-toc-panel">
      <div class="article-toc" id="article-toc">
        <strong class="toc-title">文章目录</strong>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#single-responsibility-principle-srp">单一职责(Single Responsibility Principle, SRP)</a>
      <ul>
        <li><a href="#what">What</a></li>
        <li><a href="#why">Why</a></li>
        <li><a href="#how">How</a></li>
        <li><a href="#heading">注意</a></li>
      </ul>
    </li>
    <li><a href="#liskov-substitution-principle-lsp">里氏代换原则（Liskov Substitution Principle, LSP）</a>
      <ul>
        <li><a href="#what1">What</a></li>
        <li><a href="#why1">Why</a></li>
        <li><a href="#how1">How</a></li>
        <li><a href="#other">Other</a></li>
      </ul>
    </li>
    <li><a href="#dependence-inversion-principle-dip">依赖倒转原则（Dependence Inversion Principle, DIP）</a>
      <ul>
        <li><a href="#what2">What</a></li>
        <li><a href="#why2">Why</a></li>
        <li><a href="#how2">How</a></li>
        <li><a href="#heading1">规则</a></li>
      </ul>
    </li>
    <li><a href="#interface-segregation-principle">接口隔离原则（Interface Segregation Principle）</a>
      <ul>
        <li><a href="#what3">What</a></li>
        <li><a href="#why3">Why</a></li>
        <li><a href="#how3">How</a></li>
        <li><a href="#heading2">和单一原则区别</a></li>
        <li><a href="#other1">Other</a></li>
      </ul>
    </li>
    <li><a href="#-law-of-demeterleast-knowledge-principle-lod">迪米特法则/最少知道原则 (Law Of Demeter/Least Knowledge Principle, LOD)</a>
      <ul>
        <li><a href="#what4">What</a></li>
        <li><a href="#why4">Why</a></li>
        <li><a href="#how4">How</a></li>
      </ul>
    </li>
    <li><a href="#openclose-principle">开闭原则（Open-Close Principle）</a>
      <ul>
        <li><a href="#what5">What</a></li>
        <li><a href="#why5">Why</a></li>
        <li><a href="#how5">How</a></li>
        <li><a href="#heading3">注意</a></li>
      </ul>
    </li>
    <li><a href="#heading4">其他原则</a></li>
  </ul>
</nav>
      </div>
    </div>

    <div class="btn-panel" id="btn-panel">
        
        <div class="btn-toc" id="btn-toc">
          <button class="btn" onclick="showToc()" title="文章目录" >
            <i class="fa fa-expand"></i>
          </button>
          <aside class="article-toc" id="panel-article-toc">
            <strong class="toc-title">文章目录</strong>
            <nav id="TableOfContents">
  <ul>
    <li><a href="#single-responsibility-principle-srp">单一职责(Single Responsibility Principle, SRP)</a>
      <ul>
        <li><a href="#what">What</a></li>
        <li><a href="#why">Why</a></li>
        <li><a href="#how">How</a></li>
        <li><a href="#heading">注意</a></li>
      </ul>
    </li>
    <li><a href="#liskov-substitution-principle-lsp">里氏代换原则（Liskov Substitution Principle, LSP）</a>
      <ul>
        <li><a href="#what1">What</a></li>
        <li><a href="#why1">Why</a></li>
        <li><a href="#how1">How</a></li>
        <li><a href="#other">Other</a></li>
      </ul>
    </li>
    <li><a href="#dependence-inversion-principle-dip">依赖倒转原则（Dependence Inversion Principle, DIP）</a>
      <ul>
        <li><a href="#what2">What</a></li>
        <li><a href="#why2">Why</a></li>
        <li><a href="#how2">How</a></li>
        <li><a href="#heading1">规则</a></li>
      </ul>
    </li>
    <li><a href="#interface-segregation-principle">接口隔离原则（Interface Segregation Principle）</a>
      <ul>
        <li><a href="#what3">What</a></li>
        <li><a href="#why3">Why</a></li>
        <li><a href="#how3">How</a></li>
        <li><a href="#heading2">和单一原则区别</a></li>
        <li><a href="#other1">Other</a></li>
      </ul>
    </li>
    <li><a href="#-law-of-demeterleast-knowledge-principle-lod">迪米特法则/最少知道原则 (Law Of Demeter/Least Knowledge Principle, LOD)</a>
      <ul>
        <li><a href="#what4">What</a></li>
        <li><a href="#why4">Why</a></li>
        <li><a href="#how4">How</a></li>
      </ul>
    </li>
    <li><a href="#openclose-principle">开闭原则（Open-Close Principle）</a>
      <ul>
        <li><a href="#what5">What</a></li>
        <li><a href="#why5">Why</a></li>
        <li><a href="#how5">How</a></li>
        <li><a href="#heading3">注意</a></li>
      </ul>
    </li>
    <li><a href="#heading4">其他原则</a></li>
  </ul>
</nav>
          </aside>
        </div>
        

        <div class="btn-share" id="btn-share">
          <button class="btn" title="分享">
            <i class="fa fa-share-alt"></i>
          </button>
        </div>
        <div class="btn-top" id="btn-top" >
          <button class="btn" onclick="backToTop()" title="返回顶部" >
            <i class="fa fa-arrow-up"></i>
          </button>
        </div>
    </div>
      <script src="https://lpgph.github.io/js/nav-scroll.js"></script>
      <script>
      $("#article-toc").navScrollSpy({
        navContainer: '#article-toc',
        current:"active",
        scrollSpeed: 50
      });

      $("#panel-article-toc").navScrollSpy({
        navContainer: '#panel-article-toc',
        current:"active",
        scrollSpeed: 50
      });
      </script>
  </div>

        </main>
        
        <footer class="home-footer">
            

  <div class="footer-background">
    <figure class="clouds"></figure>
    <figure class="background"></figure>
    <figure class="foreground"></figure>
  </div>

  <div class="footer" >
    <p class="copyright">
      Copyright © 2017-2019 <a href="https://lpgph.github.io/" title="Dreamcatcher">Dreamcatcher</a>
      &nbsp;&nbsp;|&nbsp;&nbsp;
      <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
    </p>
    <br/>
    <script>
        var now = new Date(); 
        function createtime() { 
            var grt= new Date("2017-01-07T00:00:00Z");
            now.setTime(now.getTime()+250); 
            days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
            hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
            if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
            mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
            seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
            snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
            document.getElementById("timeDate").innerHTML = "本站已勉强存活 "+dnum+" 天 "; 
            document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
        } 
        setInterval("createtime()",250);
    </script>

    <ul class="github-badge">
      <li>
        <a style="color: #fff" rel="license" href="https://hexo.io/" target="_blank" title="由 Hugo 强力驱动">
        <span class="badge-subject">Powered</span><span class="badge-value bg-blue">Hugo</span></a>
      </li>
      <li>
        <a style="color: #fff" rel="license" href="https://github.com/" target="_blank" title="静态网页托管于 GitHub Pages 和 Coding Pages">
        <span class="badge-subject">Hosted</span><span class="badge-value bg-brightgreen">GitHub &amp; Coding</span></a>
      </li>
      
      
      <li>
        <a style="color: #fff" rel="license" href="https://github.com/lpgph/hugo-theme-young" target="_blank" title="站点使用 hugo-theme-young 主题">
        <span class="badge-subject">Theme</span><span class="badge-value bg-blue">hugo-theme-young</span></a>
      </li>
      <li>
        <a style="color: #fff" rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="本站点采用知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议进行许可">
        <span class="badge-subject"><i class="fa fa-copyright"></i></span><span class="badge-value bg-lightgrey">BY-NC-SA 4.0</span></a>
      </li>
      <li>
        <a style="color: #fff" rel="license" href="https://996.icu/" target="_blank" title="支持 996.ICU">
        <span class="badge-subject">Link</span><span class="badge-value bg-red">996.ICU</span></a>
      </li>
      
      
    </ul>
  </div>
        </footer>
    </div>

    



<script src="https://lpgph.github.io/js/main.js"></script>


<script type="text/javascript" color="220,220,220" opacity='1' zIndex="1" count="200" src="https://lpgph.github.io//js/canvas-nest.min.js"></script>

<script src="https://lpgph.github.io//js/piao.js" type="text/javascript"></script>
<script src="https://lpgph.github.io//js/circleMagic.js" type="text/javascript"></script>

<script>

document.addEventListener('DOMContentLoaded', (event) => {
  document.querySelectorAll('pre code').forEach((block) => {
    hljs.highlightBlock(block);
  });
});

$(function(){ 
  $('#app-header').circleMagic({
      radius: 20,
      density: 0.2,
      color: 'rgba(255,255,255, .2)',
      
      clearOffset: 0.3
  });

  
  $('#scroll-down').click(function () {
      backToTop();
  });
})

function backToTop() {
   let endScroll;
    endScroll = $('#app-header').height()+10,
    $('html,body').stop().animate({scrollTop: endScroll}, 1000);
}

function showToc() {
   var  btnToc = $("#btn-toc"), 
      
     tocIcon = $(".btn-toc .btn .fa");

    if(btnToc.hasClass("show")){
      btnToc.removeClass("show");
      tocIcon.removeClass("fa-expand");
      tocIcon.addClass("fa-compress");
    }else{
      btnToc.addClass('show');
      tocIcon.removeClass("fa-compress");
      tocIcon.addClass("fa-expand");
    }
}




var resizeTimer = null;
$(window).resize(function(){
  var homeScroll     = $('#app-header').height()-40,
      docScroll      = $(document).scrollTop(),
       articleToc     = $('#article-toc');

    if(resizeTimer){
        clearTimeout(resizeTimer);
    }
    resizeTimer = setTimeout(function(){
        var showToc = document.body.scrollWidth>1800;
        if (showToc) {
          $('#btn-toc').hide();
            if(homeScroll+50<=docScroll) {
              if (!articleToc.hasClass('fixed')) {
                  articleToc.addClass('fixed')
              }
            }
        }else{
          $('#btn-toc').show();
            if( homeScroll+50 >= docScroll) {
            if (articleToc.hasClass('fixed')) {
                articleToc.removeClass('fixed');
            } 
          }
        }

        if (document.body.scrollWidth<720) {
          $("#live2d-widget").css("opacity","0");
          $("#c_n14").css("opacity","0");
        }else{
          $("#live2d-widget").css("opacity","1");
          $("#c_n14").css("opacity","1");
        }

    },100)
})


var temScroll   = 0;

var scrollTimer = null;

  
  
$(window).scroll( function() { 

var homeScroll     = $('#app-header').height()-40,
    docScroll      = $(document).scrollTop();
    openButton     = $('#openaside'),
    navBtnTitle    = $('#nav-btn-title'),
    articleToc     = $('#article-toc');

    if(scrollTimer){
        clearTimeout(scrollTimer);
    }
    scrollTimer = setTimeout(function(){
          
      if (temScroll < docScroll) { 
        if (homeScroll <= docScroll) { 
            
            if (!openButton.hasClass('navbutton-scroll')) {
                openButton.addClass('navbutton-scroll');
                navBtnTitle.hide();
            }
        }
        var showToc = document.body.scrollWidth>1800;

        if (showToc)
          if(homeScroll+50<=docScroll) {
          if (!articleToc.hasClass('fixed')) {
              articleToc.addClass('fixed')
          }
        }
        if (homeScroll+100<=docScroll) {
          if (!showToc) {
            $('#btn-toc').show();
          }
          $('#btn-share').show();
          $('#btn-top').show();
        }
      } else { 
        if (homeScroll >= docScroll) { 
          
          if (openButton.hasClass('navbutton-scroll')) {
            openButton.removeClass('navbutton-scroll');
            navBtnTitle.show();
          }
        }

        var showToc = document.body.scrollWidth > 1800;

        if (showToc){
          if( homeScroll+70 >= docScroll) {
            if (articleToc.hasClass('fixed')) {
                articleToc.removeClass('fixed');
            } 
          }
        }

        if (homeScroll+100>=docScroll) {
          if (!showToc) {
            $('#btn-toc').hide();
          }
          $('#btn-share').hide();
          $('#btn-top').hide();
        }

      }
      temScroll = docScroll;
    },100)

});
</script>

<script type="text/javascript">
done = false;
$(document).ready(function(){
  $('.navbar').click(function(){
    $('#app-header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('#closeaside'),
      o = $('#openaside');
      u = $("#sideBar")
  $(window).resize(function(){
    getSize();
    if (myWidth >= 1024) {
    
    }else
    {
      
      
      
    }
  });

  u.click(function(){
    $('.morph-shape').removeClass('show');
    a.removeClass('show-menu');
    u.css('display', 'none');
    o.css('display', 'block');
    $('body').css("overflow","auto");
  })
  c.click(function(){
    $('.morph-shape').removeClass('show');
    a.removeClass('show-menu');
    u.css('display', 'none');
    o.css('display', 'block');
    $('body').css("overflow","auto");
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.addClass('show-menu');
    $('.morph-shape').addClass('show');
    u.css('display', 'block');
    $('body').css("overflow","hidden");
    m.removeClass('moveMain');
  });
  

  $('form.search').on('submit', function (event) {
    if (false === done) {
      event.preventDefault();
      var orgVal = $(this).find('#search').val();
      $(this).find('#search').val('site:https:\/\/lpgph.github.io\/ ' + orgVal);
      done = true;
      $(this).submit();
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('#openaside'),
      c  = $('#closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
   
     
    
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://b.bshare.cn/barCode?site=weixin&url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});
</script>


<link rel="stylesheet" href="https://lpgph.github.io/plugin/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="https://lpgph.github.io/plugin/fancybox/jquery.fancybox.js"></script>
<script type="text/javascript">
$(document).ready(function(){
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
});
</script>




</body>
</html>